    <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head><title>Home Infrastructure How-To Guides using Devops Tools | Docker Server Configuration</title>
<meta name="robots" content="noindex, nofollow" />
</head>

<body>

<p><a href="/">Home</a></p>

<p>
<h2>Docker Server Configuration</h2>

<b>System Configuration</b>
<ol>
	<li>Login as the ansible user to the docker vm
	<li>Change the system hostname, the reference sytem hostname is docker1.
		<ul><li>sudo hostnamectl --no-ask-password set-hostname (server-name)</li></ul>
	 <li>Restart the server for the name change to take affect.
		 <ul><li>sudo shutdown -r now</li></ul>
	<li>Configure network for static IP
		<ul><li>Copy ansible1/home/ansible/src/inetfish/config/ubuntu/18.04/etc/netplan/01-netcfg.yaml to /docker1/etc/netplan/</li>
			<li>edit /docker1/etc/netplan/01-netcfg.yaml and update the ip-address to be your chosen static ip</li>
			<li>when edit is complete run 'sudo netplan apply'</li>
			<li>update ansible1 /etc/hosts with new entry</li>
		</ul>

</ol>
<b>Security Updates</b>
<ol>
	<li>Login as the ansible user to the ansible1 vm
	<li>Pull the latest inetfish scripts.
	<ul><li>cd ./src/inetfish/;git pull
	</ul>
	<li>Run the playbook to disable pwd logins. Logins will now require key based authentication.
		<ul>
		<li>cd; ansible-playbook ./src/inetfish/playbooks/copy-sshd_config
		</ul>


</ol>
<b>Install Docker</b>
<ol>
	<li>Copy and run ./scripts/install-docker script on docker1.
	<li>Copy and run ./scripts/setup-web-dir script on docker1.
</ol>

<b>Hello World</b>
<ol>	
	<li>Login as ansible user to the docker1 vm.
	<li>Run the docker hello-world contrainer.
	<ul><li>docker run hello-world
	</li></ul>
</ol>
</p>

<hr />
<a href="/contact.html">Contact Us</a> | &copy; inetfish.com </p>

</body>

</html>

